function SendMail() {
    try {
        var mailId = document.getElementById("ctl00_MainContentHolder_hdnMailId").value;
        var description = "Description";
        var modaldiv = creteElem("div", "modal");
        var modalBackground = creteElem("div", "modalBackground");

        var bd = document.getElementsByTagName("BODY")[0];

        bd.appendChild(modalBackground);
        bd.appendChild(modaldiv);
        var _cmpName = '';
        if (modaldiv) {
            modaldiv.className = "modaldiv";
            modalBackground.className = "modalBackground";

            //var sb = new Sys.StringBuilder(this._headTagStart);
            var sb = new Sys.StringBuilder("");
            sb.append("<div class='omniModalHeader'>");
            sb.append("<img src='images/Omnibus-logo-trans-small.png' alt='OmnibusCloud | Login' /></div>");
            sb.append("<div class='omniModalBody' id='ModalBodyDiv'>");
            sb.append("<p class='hgutter'></p><p class='innerText'>Send mail to <input type='text' value='" + mailId + "' id='MailTxt'></input><br/><span id='ValidationTxt' style='color: red; display:block'></span></p>");
            sb.append("</div>");
            sb.append("<DIV style='text-align:right;padding:10px;' id='YesNoBtnDiv'><p><input type='button' class='btn btn-primary' value='Yes' id='YesBtn' onclick='SendMailRequest(true,\"" + mailId + "\")'>");
            sb.append("<input type='button' class='btn btn-primary' value='No' id='NoBtn' onclick='SendMailRequest(false,\"" + mailId + "\")'></p></DIV>");

            modaldiv.innerHTML = sb.toString();

            modaldiv.style.display = modalBackground.style.display = "block";
            modaldiv.style.width = "400px";

            SetPosition(modaldiv);
            SetHeightWidth(modaldiv);

            modalBackground.style.height = (document.documentElement.scrollHeight + 5) + "px";

            if (document.all) {
                modaldiv.style.height = (modaldiv.clientHeight - 5) + "px";
            }


        }
    }
    catch (e) {
        //LogFunctionError(e.name + ":" + e.message);
    }
}

function SendMailRequest(req, mailId) {
    //debugger;
  var _valid =true;
    if (req) {
        var txtObj = document.getElementById("MailTxt");
        var validationObj = document.getElementById("ValidationTxt");
        validationObj.style.display = "block";
        var _mail = ''
        if (_mail = txtObj.value) {
            var _arr = new Array();
            _arr = _mail.split('@');
            if (_arr && _arr.length > 0) {

                if (_arr.length > 2) {
                    if (_mail.indexOf(';') > 0) {
                        var _arr2 = new Array();
                        _arr2 = _mail.split(';');

                        for (var cnt = 0; cnt < _arr2.length; cnt++) {
                            if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(_arr2[cnt]))) {
                                //alert("Invalid mailId :" + _arr2[cnt]);
                                validationObj.style.display = '';
                                 $(validationObj).text("Invalid mailId :" + _arr2[cnt]);
                                _valid = false;
                                break;
                            }
                        }
                        if (_valid)
                            OmnibusCloud.Common.OmnibusWebService.SendManualPaymentInfoMail(5006, _mail, SendMailRequestSuccess, SendMailRequestFail);
                    }
                    else {
                        //alert("please provide multiple email separated by ';'");
                        validationObj.style.display = '';
                         $(validationObj).text("please provide multiple email separated by ';'");
                    }
                }
                else {
                    if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(_mail)) {
                        OmnibusCloud.Common.OmnibusWebService.SendManualPaymentInfoMail(5006, _mail, SendMailRequestSuccess, SendMailRequestFail);
                    }
                    else {
                        validationObj.style.display = '';
                        $(validationObj).text("Invalid mailId : " + _mail);
                        //alert("Invalid mailId : " + _mail);
                    }
                }

            }
            else {
                //alert("Invalid mailId");
                validationObj.style.display = '';
                 $(validationObj).text("Invalid mailId : " + _mail);
            }

        }
        else {
            //alert("Please provide email");
            validationObj.style.display = '';
            $(validationObj).text("Please provide email");
        }
    }
    else
        CloseButtonClicked();
}
function CloseButtonClicked() {
    var modaldiv = document.getElementById("modal");
    var modalBackground = document.getElementById("modalBackground");
    if (modaldiv && modalBackground) {
        modaldiv.parentNode.removeChild(modaldiv);
        modalBackground.parentNode.removeChild(modalBackground);
    }
}
function SendMailRequestSuccess(responce) {
    CloseButtonClicked();
}
function SendMailRequestFail(responce) {
    alert(responce);
}




<input type="hidden" id="hdnMailId" value="" runat="server" />









if(res.omnibusCloudToolRegistration !=null && res.omnibusCloudToolRegistration.OmnibusCloudCompanyDetail !=null)
                        hdnMailId.Value = string.IsNullOrEmpty(res.omnibusCloudToolRegistration.OmnibusCloudCompanyDetail.RegisteredMailId) ? string.Empty : res.omnibusCloudToolRegistration.OmnibusCloudCompanyDetail.RegisteredMailId;









[WebMethod]
        public string SendManualPaymentInfoMail(int companyId, string emailId)
        {
            string result = "success";
            OmnibusClient omnibusClient = null;
            SendManualPaymentInfoMailRequest _req = null;
            SendManualPaymentInfoMailResponse _res =null;
            try
            {
                omnibusClient = new OmnibusClient();
                _req = new SendManualPaymentInfoMailRequest();
                _req.CompanyId = companyId;
                _req.ToMailAddress = emailId;
                _req.MailBody = "Mail Send For PaymentInfo";
                _res = omnibusClient.CloudMasterServiceClient().SendManualPaymentInfoMail(_req);
            }
            catch(Exception ex)
            {
                _res = null;
                result = "failure";
            }
            return result;

        }
